{"pageProps":{"note":{"id":"sblt0je6jawdlli798wvtc8","title":"Organising Python Packages","desc":"","updated":1752699589497,"created":1679913366145,"custom":{},"fname":"engineering.Organising Python Packages","type":"note","vault":{"fsPath":"vault"},"contentHash":"6b41ed9197d2fe5eb12d41a75e87be3c","links":[],"anchors":{"creating-packages":{"type":"header","text":"Creating packages","value":"creating-packages","line":33,"column":0,"depth":1}},"children":[],"parent":"6bx5plramu4hksomqc1n55z","data":{}},"body":"<h1 id=\"organising-python-packages\">Organising Python Packages<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#organising-python-packages\"></a></h1>\n<p><a href=\"http://blog.habnab.it/blog/2013/07/21/python-packages-and-you/\">blog</a></p>\n<pre><code>project_name/__init__.py\nproject_name/__main__.py\nproject_name/application.py\nproject_name/test/__init__.py\nproject_name/test/test_application.py\nproject_name/test/util.py\nproject_name/util.py\n</code></pre>\n<p><strong>Use absolute imports only (implcit relative imports in python 3 are NOT recommended)</strong></p>\n<p>In all your files in the project:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> project_name<span class=\"token punctuation\">.</span>util <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n</code></pre>\n<p><strong>Don’t modify sys.path from code in your package</strong></p>\n<p><strong>Don’t make your project root a package</strong></p>\n<p><strong>Don’t set PYTHONPATH to try to make it go</strong></p>\n<h1 id=\"creating-packages\">Creating packages<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#creating-packages\"></a></h1>\n<ul>\n<li>use the src layout</li>\n</ul>\n<pre><code>bulquant/\n  src/\n    bulquant/\n      ...code...\n  tests/\n  examples/\n  docs/\n  setup.py\n</code></pre>\n<ul>\n<li>flat layout</li>\n</ul>\n<pre><code>bulquant/\n  bulquant/      # Module/package code here\n  tests/\n  examples/\n  docs/\n</code></pre>\n<ol>\n<li>Prevents Import Bugs in Development With a flat layout, if you run pytest or scripts from the project root, Python can \"find\" your package accidentally because it's in the same dir as your test file, not because it's correctly installed via pip.</li>\n</ol>\n<p>From the top-level (bulquant/), run:\n<code>pip install -e src</code></p>\n<p>then you can import bulquant</p>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Root","desc":"","updated":1744237493819,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"ea936af1aea818f3052610daac103a63","links":[],"anchors":{},"children":["dgcsvcwea8scgdegrk9tfni","xig93vo47ou1bkr7s4w1wb2","ro9bbyftsutm88mxw6r16p5","ypia1zmywsklpicmcgrzlz1","w7iitlako61ppm27mym400a","6bx5plramu4hksomqc1n55z","4nki3bedlvs3mnkixj3a07k","9r5ym61dkwap92fvbte1jkq","849u97nrsuyekmr4a1r92ux","2b5bwf46z6v132wu7xghvrp","dygp5h2vzw4mkromwmofynb","7h50s7ga5ziiyblmoctsqmw","pglaolxcge4xfvgoph3je89","uy9u1co5ih1fokind8tg0eq","jc23ggp8iiu92kpnzo721to","f1u2a47guuw70olv36bzf66","c1bs7wsjfbhb0zipaywqv1","2av385tcj2cbumxprsauff3","v77wdzobzcackzimz6a7crv"],"parent":null,"data":{},"body":"\nWelcome to my Knowledge Base! Here I write about my perception of life, document exciting things I've learned, debate (with myself) on controversial topics. If you know me you will not be surprised to find out that I write mostly about engineering and maths. Other topics I'm interested in are economics, politics, business, chess and poker."},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.95.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/dendron-wiki","siteUrl":"https://ngocuong0105.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"theme":"light","templateVersion":"0.97.0","ga":{"tracking":"G-W5DRRLQ1N7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}