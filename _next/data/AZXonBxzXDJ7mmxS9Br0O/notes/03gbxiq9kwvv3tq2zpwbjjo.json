{"pageProps":{"note":{"id":"03gbxiq9kwvv3tq2zpwbjjo","title":"S3 vs DL vs Redshift","desc":"","updated":1759739942457,"created":1753101111100,"custom":{},"fname":"engineering.AWS.S3 vs DL vs Redshift","type":"note","vault":{"fsPath":"vault"},"contentHash":"3769cd20d3b837e81b096907ef91790d","links":[{"type":"wiki","from":{"fname":"engineering.AWS.S3 vs DL vs Redshift","id":"03gbxiq9kwvv3tq2zpwbjjo","vaultName":"vault"},"value":"engineering.AWS.How does Yelp store data?","position":{"start":{"line":33,"column":5,"offset":1716},"end":{"line":33,"column":50,"offset":1761},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"engineering.AWS.How does Yelp store data?"}}],"anchors":{"s3-simple-storage-service":{"type":"header","text":"S3 (Simple Storage Service)","value":"s3-simple-storage-service","line":7,"column":0,"depth":1},"datalake":{"type":"header","text":"DataLake","value":"datalake","line":18,"column":0,"depth":1},"note-on-s3dl-storage":{"type":"header","text":"Note on S3/DL storage","value":"note-on-s3dl-storage","line":26,"column":0,"depth":2},"redshift":{"type":"header","text":"Redshift","value":"redshift","line":32,"column":0,"depth":1},"note-on-parquet-vs-csv":{"type":"header","text":"Note on parquet vs csv","value":"note-on-parquet-vs-csv","line":41,"column":0,"depth":2},"bottom-line":{"type":"header","text":"Bottom line","value":"bottom-line","line":46,"column":0,"depth":1},"pricing":{"type":"header","text":"Pricing","value":"pricing","line":53,"column":0,"depth":1},"hdfs":{"type":"header","text":"HDFS","value":"hdfs","line":73,"column":0,"depth":1}},"children":[],"parent":"poc9vlh4u5k814ql4zlyuxw","data":{}},"body":"<h1 id=\"s3-vs-dl-vs-redshift\">S3 vs DL vs Redshift<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#s3-vs-dl-vs-redshift\"></a></h1>\n<h1 id=\"s3-simple-storage-service\">S3 (Simple Storage Service)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#s3-simple-storage-service\"></a></h1>\n<ul>\n<li>pure storage, no SQL or any analytics</li>\n<li><strong>Object</strong> Storage. <strong>NOT</strong> columnar, log-structured(LSM), or B-trees</li>\n<li>S3 does not understand tables, rows, columns, indexes, or trees.</li>\n<li>All structuring is defined by how you write/read files (e.g., CSV, Parquet, JSON), not by S3 itself!</li>\n<li>stores objects within buckets</li>\n<li>an object is a file and any metadata that describes the file</li>\n<li>a bucket is a container for objects</li>\n</ul>\n<h1 id=\"datalake\">DataLake<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#datalake\"></a></h1>\n<ul>\n<li>Still Object Storage (in S3)</li>\n<li>Built on top of S3</li>\n<li>An architectural concept or solution—not a product or \"service\".</li>\n<li>Centralizes and organizes data (usually on S3)</li>\n<li>in AWS you will go to S3 service and you will have many buckets. Some buckets might be data lakes</li>\n<li>DLs often support query tools (Athena/Databricks) for direct analytics!</li>\n</ul>\n<h2 id=\"note-on-s3dl-storage\">Note on S3/DL storage<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#note-on-s3dl-storage\"></a></h2>\n<ul>\n<li>DL and S3 are object storages. The objects (files) within might have structure, for example columnar format like <strong>Parquet, Avro</strong> and you can define schema on them.</li>\n<li><strong>But:</strong> The underlying object store (S3) remains ignorant of the structure; it just stores files. The columnar \"magic\" happens inside the files themselves.</li>\n<li>you can not have B-trees, LSM-tree storage indexing in S3/DL - you need to use full fledged database management system. </li>\n</ul>\n<h1 id=\"redshift\">Redshift<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#redshift\"></a></h1>\n<ul>\n<li>Amazon Redshift is a fully managed cloud <strong>data warehouse</strong> service </li>\n<li>It is not just storage - it is a ful featured SQL analytics database</li>\n<li><strong>Columnar Storage:</strong>\n<ul>\n<li>Redshift stores table data in a columnar format (not row-based, not LSM, not B-tree).</li>\n<li>This means data is stored column by column, which is highly efficient for analytical queries (scanning/aggregating specific columns in very large datasets).</li>\n</ul>\n</li>\n</ul>\n<p>See <a href=\"/dendron-wiki/notes/0xdyjxuetx8at7o7eafrfzb\">How does Yelp store data?</a> or practical usage</p>\n<h2 id=\"note-on-parquet-vs-csv\">Note on parquet vs csv<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#note-on-parquet-vs-csv\"></a></h2>\n<ul>\n<li>parquet files are columnar, meaning they store data in columns rather than rows.</li>\n<li>This is different from CSV files, which are row-based.</li>\n</ul>\n<h1 id=\"bottom-line\">Bottom line<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#bottom-line\"></a></h1>\n<ul>\n<li>S3 = object storage, NO index/tree, NO enforced schema, NO columnar unless your files are.</li>\n<li>Data Lake = organization + schema/catalog on S3; columnar if files are (e.g., Parquet); NO B-tree/LSM tree.</li>\n<li>Databases (like Redshift) = implement B-trees/columnar engines internally as part of their design for querying rows and columns efficiently.</li>\n</ul>\n<h1 id=\"pricing\">Pricing<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pricing\"></a></h1>\n<p><strong>Data Lake</strong></p>\n<ul>\n<li>Athena and Spark charge based on the amount of <strong>data scanned</strong>, so inefficient queries or large raw datasets can quickly increase costs.</li>\n<li>No infrastructure to manage: You don’t pay for servers or clusters—just for the queries you run.</li>\n<li>Best for\n<ul>\n<li>Ad hoc queries</li>\n<li>Infrequent or unpredictable workloads</li>\n</ul>\n</li>\n</ul>\n<p><strong>Redshift</strong></p>\n<ul>\n<li>Provisioned clusters: Pay for reserved compute/storage capacity (hourly, regardless of usage). OR\n<ul>\n<li>Yelp has 4 clusters!!</li>\n</ul>\n</li>\n<li>Serverless: Pay for compute seconds used per query, plus storage.</li>\n<li>Best for:\n<ul>\n<li>Frequent, complex analytics</li>\n<li>Large-scale, repeated reporting</li>\n<li>BI dashboards and heavy workloads</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"hdfs\">HDFS<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hdfs\"></a></h1>\n<p>Hadoop Distributed File System. Like S3 it is used to store large amounts of data.</p>\n<ul>\n<li>\n<p>Distributed file system that runs on lusters of computers</p>\n</li>\n<li>\n<p>Data stored in HDFS can be of any type, but the system automatically splits these files and stores them redundantly across many machines</p>\n</li>\n<li>\n<p>HDFS is faster than S3 (no network latency)</p>\n</li>\n<li>\n<p>HDFS is a distributed file system you run and maintain on your own cluster, primarily for on-prem or managed Hadoop/Spark environments.</p>\n</li>\n<li>\n<p>S3 is not a file system, it is object storage. S3 is a manged service by AWS. HDFS is open source and you have to manage it yourself. It runs on a cluster of connected servers.</p>\n</li>\n<li>\n<p>Legacy/On-prem-focused orgs: More likely to use HDFS.</p>\n</li>\n<li>\n<p>Cloud/data-driven orgs (most modern tech): Strongly favor S3.</p>\n</li>\n</ul>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Root","desc":"","updated":1763992060664,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"dc095b340c158394d643b84f8585ff0c","links":[],"anchors":{},"children":["dgcsvcwea8scgdegrk9tfni","xig93vo47ou1bkr7s4w1wb2","ro9bbyftsutm88mxw6r16p5","ypia1zmywsklpicmcgrzlz1","w7iitlako61ppm27mym400a","6bx5plramu4hksomqc1n55z","4nki3bedlvs3mnkixj3a07k","9r5ym61dkwap92fvbte1jkq","849u97nrsuyekmr4a1r92ux","2b5bwf46z6v132wu7xghvrp","dygp5h2vzw4mkromwmofynb","7h50s7ga5ziiyblmoctsqmw","pglaolxcge4xfvgoph3je89","uy9u1co5ih1fokind8tg0eq","jc23ggp8iiu92kpnzo721to","f1u2a47guuw70olv36bzf66","c1bs7wsjfbhb0zipaywqv1","2av385tcj2cbumxprsauff3","lw1b4r6ykimvj9208nkgzps"],"parent":null,"data":{},"body":"\nZdr bebce kp ;)\n\nThis is my knowledge base, additionally I keep [daily journal](https://docs.google.com/document/d/1m8Npu0-t8RweyKiHCjLL1PPDYzbebqm3OZDHH8IVsb8/edit?tab=t.rj0kvkrm7zpr)."},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.95.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/dendron-wiki","siteUrl":"https://ngocuong0105.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"theme":"light","templateVersion":"0.97.0","ga":{"tracking":"G-W5DRRLQ1N7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}