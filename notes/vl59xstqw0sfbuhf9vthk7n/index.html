<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/dendron-wiki/favicon.ico"/><title>Data Storage</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="Data Storage"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://ngocuong0105.github.io/dendron-wiki/notes/vl59xstqw0sfbuhf9vthk7n/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="10/27/2025"/><meta property="article:modified_time" content="11/5/2025"/><link rel="canonical" href="https://ngocuong0105.github.io/dendron-wiki/notes/vl59xstqw0sfbuhf9vthk7n/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/dendron-wiki/_next/static/css/73bff7fc08ed1d26.css" as="style"/><link rel="stylesheet" href="/dendron-wiki/_next/static/css/73bff7fc08ed1d26.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dendron-wiki/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/dendron-wiki/_next/static/chunks/webpack-5a49f804ab2869ab.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/main-2a75a40d33729b12.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/pages/_app-47f94d7e2ed9c5e2.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/dendron-wiki/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/dendron-wiki/_next/static/AZXonBxzXDJ7mmxS9Br0O/_buildManifest.js" defer=""></script><script src="/dendron-wiki/_next/static/AZXonBxzXDJ7mmxS9Br0O/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="data-storage">Data Storage<a aria-hidden="true" class="anchor-heading icon-link" href="#data-storage"></a></h1>
<p>When you build a data infrastructure system you will consider tradeoffs between cost, efficiency, pattern accessability (online va offline, key:value pair vs relational), volume.</p>
<h1 id="data-storage-technologies">Data Storage Technologies<a aria-hidden="true" class="anchor-heading icon-link" href="#data-storage-technologies"></a></h1>
<p>AWS has S3 (e.g DataLake), Redshift, MySQL, Cassandra, ElasticSearch.</p>
<h2 id="s3">S3<a aria-hidden="true" class="anchor-heading icon-link" href="#s3"></a></h2>
<p>AWS service. Cloud storage. Structured (csv, parquet, csv) and Unstructured (images,videos, documents, parquets) data</p>
<ul>
<li>Offline availability</li>
<li>Best for logs, historical data, backup - the defacto option for archives</li>
<li>Benefits: extremely low $ cost, essentially infinite storage capacity, scales horizontally</li>
<li>Disadvantages: no built-in query. Need to load it in some other data store to work with the data</li>
<li>S3 is basically a filesystem (buckets instead of folders)</li>
</ul>
<p>Can query using additional services like Athena, or you load in spark.</p>
<h2 id="datalake">Datalake<a aria-hidden="true" class="anchor-heading icon-link" href="#datalake"></a></h2>
<p>AWS service. Claud storage. Built on top of S3. Structured and Unstructured data. Allows to query data using ATHENA (SQL quering engine for S3)</p>
<h2 id="redshift">Redshift<a aria-hidden="true" class="anchor-heading icon-link" href="#redshift"></a></h2>
<p>AWS service. Columnar data storage, fully manged data warehouse service. Relational db design. Structured data only (tables schemas)</p>
<p>Stores data in clusters.</p>
<ul>
<li>Offline availability</li>
<li>Best for analytics, data exploration and analysis</li>
<li>Benefits: good options for doing expensive joins. SQL based quering.</li>
<li>Disadvantages: high cost</li>
</ul>
<h2 id="mysql">MySQL<a aria-hidden="true" class="anchor-heading icon-link" href="#mysql"></a></h2>
<p>Relational database. Used for structured data and transactions, such as user profiles and reviews. Transaction is a row/tuple in sQL table.</p>
<ul>
<li>Offline and Online (e.g when Yelp user searches something/ send a message it is directly stored and accessed) availability </li>
<li>ACID compliance provides strongest form of data reliability</li>
</ul>
<h2 id="casandra">Casandra<a aria-hidden="true" class="anchor-heading icon-link" href="#casandra"></a></h2>
<h2 id="elasticsearch">ElasticSearch<a aria-hidden="true" class="anchor-heading icon-link" href="#elasticsearch"></a></h2>
<h2 id="hdf5">HDF5<a aria-hidden="true" class="anchor-heading icon-link" href="#hdf5"></a></h2>
<p>Susquehanna uses this.</p>
<ul>
<li></li>
</ul>
<h1 id="data-catalog">Data Catalog<a aria-hidden="true" class="anchor-heading icon-link" href="#data-catalog"></a></h1>
<p>This is a catalog service =  metadata layer that describes data not the data itself.</p>
<p>Data catalog technologies offer another layer of abstraction on top of data storage technologies. They help you discover, manage and govern your data assets. </p>
<h2 id="aws-glue">AWS Glue<a aria-hidden="true" class="anchor-heading icon-link" href="#aws-glue"></a></h2>
<p>AWS Glue is a centralized metadata catalog that allows:</p>
<ul>
<li>schema management, track schema versions, schema evolution, register schemas.</li>
<li>metadata management - catalog of what data exists and where</li>
<li>data discovery layer - search and discover datasets, and querable by downstream engines.</li>
</ul>
<h2 id="apache-iceberg">Apache Iceberg<a aria-hidden="true" class="anchor-heading icon-link" href="#apache-iceberg"></a></h2>
<p>Apache is a open source foundation project. Iceberg is a table format for huge analytic datasets. It is designed to improve on the limitations of other table formats like Hive.</p>
<p>Iceberg is supported in AWS. You can create Iceberg tables. For example in CAPI you had to migrate from normal tables in DataLave v1 to DataLake v2 (these are Yelp related datalakes). DLv2 uses Iceberg table format. It allows you to have:</p>
<ul>
<li>ACID transactions (marketing)</li>
<li>Time travel and rollback via its integrated snapshots tooling.</li>
<li>Multi-partioned tables (dt=2024-01-01/client_id=sephora). More control over partitioning strategies. When you run a backfill you could select which data to change based on partition filters.</li>
<li>No need for physical deletes (use DELETE statements that mark data as deleted without physically removing it right away)</li>
<li>tracks schema evolution</li>
</ul>
<p>Multipartitioning: </p>
<ul>
<li>isolation whenever you insert/update/delete data. Before updating data for one client meant you need to rerun for all.</li>
<li></li>
</ul>
<h3 id="yelp-dlv1-to-dlv2">Yelp DLv1 to DLv2<a aria-hidden="true" class="anchor-heading icon-link" href="#yelp-dlv1-to-dlv2"></a></h3>
<p>Since 2017 Yelp's data lake has used the Hive table format. Since then, Apache Iceberg has gained significant adoption in the industry -- proving to be Hive's successor -- and brings many enhancements.</p>
<p>Like Hive, Iceberg stores Parquet files in S3 and metadata in AWS Glue. Iceberg tables exist in the AWS Glue catalog and work with Spark, Athena, and Redshift just as Hive tables do, but with extra features.</p>
<p><a href="https://iceberg.apache.org/spec/#version-1-analytic-data-tables">ICEBERG Tech Spec</a></p>
<p>One of Iceberg's design goals is to present a data lake table that works as a SQL table does without any surprises, so is not required to know these concepts, however some Iceberg users may be curious to understand them.</p>
<p>Iceberg metadata is stored in a tree structure. The image below may look complicated at first glance, but users of Iceberg do not need to understand it in order to use an Iceberg table.</p>
<h4 id="acid-transactions">ACID transactions<a aria-hidden="true" class="anchor-heading icon-link" href="#acid-transactions"></a></h4>
<p>Hive tables have many areas of undefined behavior which introduce data inconsistencies and data quality issues, especially when multiple processes are reading and writing to a table. Iceberg's provides ACID transactions and guarantees about behaviors for reads and writes.</p>
<p>Iceberg's tables store the S3 path of the current metadata on the Glue table as a table property. This is the basis for the below behaviors.</p>
<ul>
<li>
<p>Atomic Operations: Data files are added or removed in a single, complete operation, ensuring that writes are never partially visible. Iceberg writes data to S3 and commits changes by updating a metadata reference in the Glue table, which supports atomic updates.</p>
</li>
<li>
<p>Consistency &#x26; Isolation: Iceberg provides optimistic concurrency and serializable isolation. Readers only access commited data and will see a consistent and correct view of data even while a writer concurrently commits to the table. Serializable isolation ensures that multiple writers will not introduce inconsistent states by ensuring that only one process writes to a table at a time. In some cases serializable isolation can impede workflows, see Iceberg Known Issues and Limitations for alternatives (parallel backfills can be tricky).</p>
</li>
</ul>
<p>-Durable: Once a transaction is committed, it will not be lost. Durability is provided by S3 similarly to Hive tables. </p>
<h1 id="hdf5-1">HDF5<a aria-hidden="true" class="anchor-heading icon-link" href="#hdf5-1"></a></h1>
<p>SIG uses this data format (<code>.hdf5</code>). Another technology to manage data.</p>
<ul>
<li>HDF5 is a data software library, data management service and storage forhererogeneous data. Built in with fast "I/O" processing.</li>
<li>storing scientific numerical data</li>
</ul>
<p>What is HDF5?</p>
<ul>
<li>A file specification and associated data model</li>
<li>A standard library with API access for C++, Python, Java, etc.</li>
<li>A software ecosystem consisting of client applications using HDF5 and analysis platforms like MATLAB, Python</li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#data-storage-technologies" title="Data Storage Technologies">Data Storage Technologies</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#s3" title="S3">S3</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#datalake" title="Datalake">Datalake</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#redshift" title="Redshift">Redshift</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#mysql" title="MySQL">MySQL</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#casandra" title="Casandra">Casandra</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#elasticsearch" title="ElasticSearch">ElasticSearch</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#hdf5" title="HDF5">HDF5</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#data-catalog" title="Data Catalog">Data Catalog</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#aws-glue" title="AWS Glue">AWS Glue</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#apache-iceberg" title="Apache Iceberg">Apache Iceberg</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#yelp-dlv1-to-dlv2" title="Yelp DLv1 to DLv2">Yelp DLv1 to DLv2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#acid-transactions" title="ACID transactions">ACID transactions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#hdf5-1" title="HDF5">HDF5</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"vl59xstqw0sfbuhf9vthk7n","title":"Data Storage","desc":"","updated":1762334984734,"created":1761560874708,"custom":{},"fname":"engineering.Concepts.Data Storage","type":"note","vault":{"fsPath":"vault"},"contentHash":"6d27990e4ffcf21dbc63189f9103faf2","links":[],"anchors":{"data-storage-technologies":{"type":"header","text":"Data Storage Technologies","value":"data-storage-technologies","line":9,"column":0,"depth":1},"s3":{"type":"header","text":"S3","value":"s3","line":14,"column":0,"depth":2},"datalake":{"type":"header","text":"Datalake","value":"datalake","line":25,"column":0,"depth":2},"redshift":{"type":"header","text":"Redshift","value":"redshift","line":28,"column":0,"depth":2},"mysql":{"type":"header","text":"MySQL","value":"mysql","line":40,"column":0,"depth":2},"casandra":{"type":"header","text":"Casandra","value":"casandra","line":48,"column":0,"depth":2},"elasticsearch":{"type":"header","text":"ElasticSearch","value":"elasticsearch","line":50,"column":0,"depth":2},"hdf5":{"type":"header","text":"HDF5","value":"hdf5","line":52,"column":0,"depth":2},"data-catalog":{"type":"header","text":"Data Catalog","value":"data-catalog","line":59,"column":0,"depth":1},"aws-glue":{"type":"header","text":"AWS Glue","value":"aws-glue","line":65,"column":0,"depth":2},"apache-iceberg":{"type":"header","text":"Apache Iceberg","value":"apache-iceberg","line":72,"column":0,"depth":2},"yelp-dlv1-to-dlv2":{"type":"header","text":"Yelp DLv1 to DLv2","value":"yelp-dlv1-to-dlv2","line":87,"column":0,"depth":3},"acid-transactions":{"type":"header","text":"ACID transactions","value":"acid-transactions","line":102,"column":0,"depth":4},"hdf5-1":{"type":"header","text":"HDF5","value":"hdf5-1","line":115,"column":0,"depth":1}},"children":[],"parent":"7khpigcji0ufpuptuqozcft","data":{}},"body":"\u003ch1 id=\"data-storage\"\u003eData Storage\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#data-storage\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eWhen you build a data infrastructure system you will consider tradeoffs between cost, efficiency, pattern accessability (online va offline, key:value pair vs relational), volume.\u003c/p\u003e\n\u003ch1 id=\"data-storage-technologies\"\u003eData Storage Technologies\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#data-storage-technologies\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eAWS has S3 (e.g DataLake), Redshift, MySQL, Cassandra, ElasticSearch.\u003c/p\u003e\n\u003ch2 id=\"s3\"\u003eS3\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#s3\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAWS service. Cloud storage. Structured (csv, parquet, csv) and Unstructured (images,videos, documents, parquets) data\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOffline availability\u003c/li\u003e\n\u003cli\u003eBest for logs, historical data, backup - the defacto option for archives\u003c/li\u003e\n\u003cli\u003eBenefits: extremely low $ cost, essentially infinite storage capacity, scales horizontally\u003c/li\u003e\n\u003cli\u003eDisadvantages: no built-in query. Need to load it in some other data store to work with the data\u003c/li\u003e\n\u003cli\u003eS3 is basically a filesystem (buckets instead of folders)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCan query using additional services like Athena, or you load in spark.\u003c/p\u003e\n\u003ch2 id=\"datalake\"\u003eDatalake\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#datalake\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAWS service. Claud storage. Built on top of S3. Structured and Unstructured data. Allows to query data using ATHENA (SQL quering engine for S3)\u003c/p\u003e\n\u003ch2 id=\"redshift\"\u003eRedshift\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#redshift\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAWS service. Columnar data storage, fully manged data warehouse service. Relational db design. Structured data only (tables schemas)\u003c/p\u003e\n\u003cp\u003eStores data in clusters.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOffline availability\u003c/li\u003e\n\u003cli\u003eBest for analytics, data exploration and analysis\u003c/li\u003e\n\u003cli\u003eBenefits: good options for doing expensive joins. SQL based quering.\u003c/li\u003e\n\u003cli\u003eDisadvantages: high cost\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"mysql\"\u003eMySQL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#mysql\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eRelational database. Used for structured data and transactions, such as user profiles and reviews. Transaction is a row/tuple in sQL table.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOffline and Online (e.g when Yelp user searches something/ send a message it is directly stored and accessed) availability \u003c/li\u003e\n\u003cli\u003eACID compliance provides strongest form of data reliability\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"casandra\"\u003eCasandra\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#casandra\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"elasticsearch\"\u003eElasticSearch\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#elasticsearch\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"hdf5\"\u003eHDF5\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hdf5\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eSusquehanna uses this.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"data-catalog\"\u003eData Catalog\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#data-catalog\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eThis is a catalog service =  metadata layer that describes data not the data itself.\u003c/p\u003e\n\u003cp\u003eData catalog technologies offer another layer of abstraction on top of data storage technologies. They help you discover, manage and govern your data assets. \u003c/p\u003e\n\u003ch2 id=\"aws-glue\"\u003eAWS Glue\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#aws-glue\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAWS Glue is a centralized metadata catalog that allows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eschema management, track schema versions, schema evolution, register schemas.\u003c/li\u003e\n\u003cli\u003emetadata management - catalog of what data exists and where\u003c/li\u003e\n\u003cli\u003edata discovery layer - search and discover datasets, and querable by downstream engines.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"apache-iceberg\"\u003eApache Iceberg\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#apache-iceberg\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eApache is a open source foundation project. Iceberg is a table format for huge analytic datasets. It is designed to improve on the limitations of other table formats like Hive.\u003c/p\u003e\n\u003cp\u003eIceberg is supported in AWS. You can create Iceberg tables. For example in CAPI you had to migrate from normal tables in DataLave v1 to DataLake v2 (these are Yelp related datalakes). DLv2 uses Iceberg table format. It allows you to have:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eACID transactions (marketing)\u003c/li\u003e\n\u003cli\u003eTime travel and rollback via its integrated snapshots tooling.\u003c/li\u003e\n\u003cli\u003eMulti-partioned tables (dt=2024-01-01/client_id=sephora). More control over partitioning strategies. When you run a backfill you could select which data to change based on partition filters.\u003c/li\u003e\n\u003cli\u003eNo need for physical deletes (use DELETE statements that mark data as deleted without physically removing it right away)\u003c/li\u003e\n\u003cli\u003etracks schema evolution\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMultipartitioning: \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eisolation whenever you insert/update/delete data. Before updating data for one client meant you need to rerun for all.\u003c/li\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"yelp-dlv1-to-dlv2\"\u003eYelp DLv1 to DLv2\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#yelp-dlv1-to-dlv2\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSince 2017 Yelp's data lake has used the Hive table format. Since then, Apache Iceberg has gained significant adoption in the industry -- proving to be Hive's successor -- and brings many enhancements.\u003c/p\u003e\n\u003cp\u003eLike Hive, Iceberg stores Parquet files in S3 and metadata in AWS Glue. Iceberg tables exist in the AWS Glue catalog and work with Spark, Athena, and Redshift just as Hive tables do, but with extra features.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://iceberg.apache.org/spec/#version-1-analytic-data-tables\"\u003eICEBERG Tech Spec\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eOne of Iceberg's design goals is to present a data lake table that works as a SQL table does without any surprises, so is not required to know these concepts, however some Iceberg users may be curious to understand them.\u003c/p\u003e\n\u003cp\u003eIceberg metadata is stored in a tree structure. The image below may look complicated at first glance, but users of Iceberg do not need to understand it in order to use an Iceberg table.\u003c/p\u003e\n\u003ch4 id=\"acid-transactions\"\u003eACID transactions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#acid-transactions\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eHive tables have many areas of undefined behavior which introduce data inconsistencies and data quality issues, especially when multiple processes are reading and writing to a table. Iceberg's provides ACID transactions and guarantees about behaviors for reads and writes.\u003c/p\u003e\n\u003cp\u003eIceberg's tables store the S3 path of the current metadata on the Glue table as a table property. This is the basis for the below behaviors.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAtomic Operations: Data files are added or removed in a single, complete operation, ensuring that writes are never partially visible. Iceberg writes data to S3 and commits changes by updating a metadata reference in the Glue table, which supports atomic updates.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eConsistency \u0026#x26; Isolation: Iceberg provides optimistic concurrency and serializable isolation. Readers only access commited data and will see a consistent and correct view of data even while a writer concurrently commits to the table. Serializable isolation ensures that multiple writers will not introduce inconsistent states by ensuring that only one process writes to a table at a time. In some cases serializable isolation can impede workflows, see Iceberg Known Issues and Limitations for alternatives (parallel backfills can be tricky).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e-Durable: Once a transaction is committed, it will not be lost. Durability is provided by S3 similarly to Hive tables. \u003c/p\u003e\n\u003ch1 id=\"hdf5-1\"\u003eHDF5\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hdf5-1\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eSIG uses this data format (\u003ccode\u003e.hdf5\u003c/code\u003e). Another technology to manage data.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eHDF5 is a data software library, data management service and storage forhererogeneous data. Built in with fast \"I/O\" processing.\u003c/li\u003e\n\u003cli\u003estoring scientific numerical data\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhat is HDF5?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA file specification and associated data model\u003c/li\u003e\n\u003cli\u003eA standard library with API access for C++, Python, Java, etc.\u003c/li\u003e\n\u003cli\u003eA software ecosystem consisting of client applications using HDF5 and analysis platforms like MATLAB, Python\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Root","desc":"","updated":1763992060664,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"dc095b340c158394d643b84f8585ff0c","links":[],"anchors":{},"children":["dgcsvcwea8scgdegrk9tfni","xig93vo47ou1bkr7s4w1wb2","ro9bbyftsutm88mxw6r16p5","ypia1zmywsklpicmcgrzlz1","w7iitlako61ppm27mym400a","6bx5plramu4hksomqc1n55z","4nki3bedlvs3mnkixj3a07k","9r5ym61dkwap92fvbte1jkq","849u97nrsuyekmr4a1r92ux","2b5bwf46z6v132wu7xghvrp","dygp5h2vzw4mkromwmofynb","7h50s7ga5ziiyblmoctsqmw","pglaolxcge4xfvgoph3je89","uy9u1co5ih1fokind8tg0eq","jc23ggp8iiu92kpnzo721to","f1u2a47guuw70olv36bzf66","c1bs7wsjfbhb0zipaywqv1","2av385tcj2cbumxprsauff3","lw1b4r6ykimvj9208nkgzps"],"parent":null,"data":{},"body":"\nZdr bebce kp ;)\n\nThis is my knowledge base, additionally I keep [daily journal](https://docs.google.com/document/d/1m8Npu0-t8RweyKiHCjLL1PPDYzbebqm3OZDHH8IVsb8/edit?tab=t.rj0kvkrm7zpr)."},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.95.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/dendron-wiki","siteUrl":"https://ngocuong0105.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"theme":"light","templateVersion":"0.97.0","ga":{"tracking":"G-W5DRRLQ1N7"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"vl59xstqw0sfbuhf9vthk7n"},"buildId":"AZXonBxzXDJ7mmxS9Br0O","assetPrefix":"/dendron-wiki","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>