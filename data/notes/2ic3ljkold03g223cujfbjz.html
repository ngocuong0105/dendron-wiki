<h1 id="programming-for-the-puzzled">Programming for the Puzzled<a aria-hidden="true" class="anchor-heading icon-link" href="#programming-for-the-puzzled"></a></h1>
<h1 id="mit-6s095---programming-for-the-puzzled">MIT 6.S095 - Programming for the Puzzled<a aria-hidden="true" class="anchor-heading icon-link" href="#mit-6s095---programming-for-the-puzzled"></a></h1>
<p>Lecture <a href="https://www.youtube.com/watch?v=14UlXIZzwE4&#x26;list=PLUl4u3cNGP62QumaaZtCCjkID-NgqrleA&#x26;index=1&#x26;ab_channel=MITOpenCourseWare">videos</a></p>
<p>Lecture <a href="https://ocw.mit.edu/courses/6-s095-programming-for-the-puzzled-january-iap-2018/">notes</a></p>
<h1 id="puzzle-1-you-will-all-conform-trick">Puzzle 1. You Will All Conform. Trick<a aria-hidden="true" class="anchor-heading icon-link" href="#puzzle-1-you-will-all-conform-trick"></a></h1>
<p>Array of people and they have caps on their head. These caps can be forward or backward.</p>
<p>0, 1, 2, 3, 4, 5, 6</p>
<p>F, B, F, F, B, B, F</p>
<p>We want all caps to conform, that is all are forward or all are backward. Possible operations: You can say to a person "
Flip your cap". Or you can say "People from position from 2 to 3 flip your caps". Find minimum number of operations given
an array of people with caps.</p>
<hr>
<p>Simple solution is just to count forward and backward intervals</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'F'</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span>
    forward<span class="token punctuation">,</span> backward <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> i <span class="token operator">&#x3C;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span>
        j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">while</span> j <span class="token operator">&#x3C;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token keyword">and</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
            j <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'F'</span><span class="token punctuation">:</span> forward<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span> backward<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>forward<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>backward<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id=""><a aria-hidden="true" class="anchor-heading icon-link" href="#"></a></h2></details>
<p>First person in line gives up what set of commands you will say to the people. For example if arr[0] = 'F', then you would say to all 'B-s' to flip their caps.</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python">
<span class="token keyword">def</span> <span class="token function">please_all_conform</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span>
    arr<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'END'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> arr<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> caps<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> caps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Please people in positions </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> end <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f' through </span><span class="token interpolation"><span class="token punctuation">{</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string"> flip your caps!'</span></span><span class="token punctuation">)</span>

</code></pre>
</details>
<p>'Nuances with how you solve a problem and how you code it.'</p>
<h1 id="puzzle-2-the-best-time-to-party-line-sweep">Puzzle 2. The Best Time to Party. Line Sweep<a aria-hidden="true" class="anchor-heading icon-link" href="#puzzle-2-the-best-time-to-party-line-sweep"></a></h1>
<p>Celebrities come at a party at particular times (intervals). When should you go to the party to max out the number of celebrities you will meet.</p>
<pre><code>[('Beyonce',6,7), ('Taylor',7,9), ...]
</code></pre>
<p>Closed intervals on the left and open on the right.</p>
<p>Simple solution. Check all hours (starts and ends) and check how many intervals contain it. Depends on granularity of time</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
    start <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    end <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">[</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    times <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>starts <span class="token operator">+</span> ends<span class="token punctuation">)</span>
    res <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span>count<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>intervals<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res

<span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span> s <span class="token operator">&#x3C;=</span> t <span class="token operator">&#x3C;</span> e <span class="token keyword">for</span> s<span class="token punctuation">,</span>e  <span class="token keyword">in</span> intervals<span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre>
</details>
<hr>
<p>'Lots of repeated computation = redundancy. Often you could reduce this redundancy by computing things incrementally.'</p>
<p>The only times that are interesting is when celebrities come and leave</p>
<p>The only time the result could change is if a celebrity enters or leaves.</p>
<p>Line sweep solution.  Relies on the fact that the result would change only when you reach an event.</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
    events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> s<span class="token punctuation">,</span>e <span class="token keyword">in</span> events<span class="token punctuation">:</span>
        events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    events<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
    res<span class="token punctuation">,</span>curr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>
    <span class="token keyword">for</span> time<span class="token punctuation">,</span>is_start <span class="token keyword">in</span> events<span class="token punctuation">:</span>
        <span class="token keyword">if</span> is_start<span class="token punctuation">:</span>
            curr <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            curr <span class="token operator">-=</span> <span class="token number">1</span>
        res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span>curr<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token comment"># trick</span>
<span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
    events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> s<span class="token punctuation">,</span>e <span class="token keyword">in</span> events<span class="token punctuation">:</span>
        events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        events<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    events<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>accumulate<span class="token punctuation">(</span><span class="token punctuation">[</span>p <span class="token keyword">for</span> _p <span class="token keyword">in</span> events<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</details>
<p><a href="https://leetcode.com/problems/meeting-rooms-ii/">problem</a></p>
<h1 id="puzzle-3-you-can-read-minds-encoding-information">Puzzle 3: You Can Read Minds. Encoding Information<a aria-hidden="true" class="anchor-heading icon-link" href="#puzzle-3-you-can-read-minds-encoding-information"></a></h1>
<p>Given a deck of 52 cards. William takes 5 cards at random and shows to Devas 4 of them. Devas uses an algorithm to determine the 5th card. He uses the info from the 4 cards he sees to guess the fifth card.</p>
<p>Show 4 cards, 5th card could be 1 of 48.</p>
<p>How many bits of information can 4 cards show? Use the order of the 4 cards gets you <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo stretchy="false">!</mo><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">4! = 24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">4</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">24</span></span></span></span></span>. We have just 24 bits of information but have to encode 48. Ordering just uses the numbers on the cards, we need to use the suits.</p>
<p><strong>Strategy:</strong>
First card will give away the suit. By pigeonhole principle out of 5 cards there would be 2 with the same suits. The other 3 cards would give away the distance from the first card thinking in circular/modular computation.</p>
<p><strong>Example:</strong> We pick King Diamond, A Diamond, 2 Spade, 3 Clubs, 5 Hearts.</p>
<p>William will hide the Ace and present  K, 2, 3, 5.</p>
<p>Devadas sees King of Diamond, hence the  hidden card is a diamond. 2,3,5 is the first permutation, hence the hidden card is 1 distance away from the Kind, that is and Ace.</p>
<p>Why this strategy works? The first card is the pivot card giving away the suit, hence there are 12 cards remaining that could possibly be the hidden card. we have 3 cards left t encode the 12 cards. Because we measure distance only in clockwise direction we are covered.</p>
<p>Is it possible to pick 4 random cards, hide one of it and encode it using the rest 3.</p>
<p><a href="https://codegolf.stackexchange.com/questions/165390/professor-at-mit-can-read-minds">Article</a></p>
<h1 id="puzzle-4-please-do-break-the-crystal-strategy--flip-problem-statement">Puzzle 4: Please Do Break the Crystal. Strategy + Flip problem statement<a aria-hidden="true" class="anchor-heading icon-link" href="#puzzle-4-please-do-break-the-crystal-strategy--flip-problem-statement"></a></h1>
<p><strong>Problem statement:</strong></p>
<p>You are given two identical crystal balls and you have access to a building with n floors labeled
from 1 to 128.</p>
<p>You know that there exists a floor f where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&#x3C;</mo><mo>=</mo><mi>f</mi><mo>&#x3C;</mo><mo>=</mo><mn>128</mn></mrow><annotation encoding="application/x-tex">0 &#x3C;= f &#x3C;= 128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3C;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3C;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">128</span></span></span></span></span> such that any egg dropped at a floor higher
than f will break, and any egg dropped at or below floor f will not break.</p>
<p>In each move, you may take an unbroken egg and drop it from any floor x (where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&#x3C;</mo><mo>=</mo><mi>x</mi><mo>&#x3C;</mo><mo>=</mo><mn>128</mn></mrow><annotation encoding="application/x-tex">1 &#x3C;= x &#x3C;= 128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3C;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3C;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">128</span></span></span></span></span>). If
the egg breaks, you can no longer use it. However, if the egg does not break, you may reuse it in
future moves.</p>
<p>Return the minimum number of moves that you need to determine with certainty what the value of f is.</p>
<p>Links to problem: <a href="https://leetcode.com/problems/egg-drop-with-2-eggs-and-n-floors/">medium</a> with two balls only.</p>
<p><a href="https://leetcode.com/problems/super-egg-drop/">hard</a>
with arbitrary number of balls.</p>
<h2 id="thinking">Thinking<a aria-hidden="true" class="anchor-heading icon-link" href="#thinking"></a></h2>
<p>Binary search strategy - begin with first drop at 64. Worse case is if it breaks and then we have to do [1,63] = 63 drops more: total 64 drops.</p>
<p>Improvement: Use smaller interval - drop from 16, 32, 48, 64...
Worse case if it breaks at 128 and we have to do 128/16 + 15 = 23 total drops</p>
<p>Even better: be around square root.
Strategy start dropping first ball at floors:  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo separator="true">,</mo><mn>2</mn><mi>k</mi><mo separator="true">,</mo><mn>3</mn><mi>k</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>n</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi><mi>k</mi><mo>∗</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">k, 2k, 3k, .... n//k * k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">....</span><span class="mord mathnormal">n</span><span class="mord">//</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span>
Worse case is if the first drop does not break until the end.
Total drops = <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mi>k</mi><mo>+</mo><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n/k + k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span>. Goal is to minimize this function.</p>
<p>Take derivative and set to 0 -> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k = sqrt(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>
Total worse number of drops is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2sqrt(n)-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>So using this strategy of throwing on equal interval range <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo separator="true">,</mo><mn>2</mn><mi>k</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">k, 2k ,...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span></span></span></span></span>
best is to choose k = sqrt(n) and total worse case is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2sqrt(n)-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>However even more optimal strategy is to have decreasing intervals.
They should get smaller as the problem gets easier.</p>
<p><strong>Math Solution:</strong>
Suppose least number of worse case throws is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>.
Then the highest floor from which you can drop first egg is from floor <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>. If you drop it from floor
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> and it breaks then you'd have <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> throws in total</p>
<p>Second drop can be highest from <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>x</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x + x-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span>. If you drop it from x+x, then your worse case would be <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>></mo><mo>=</mo></mrow><annotation encoding="application/x-tex">>=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">>=</span></span></span></span></span>
if the egg breaks from second drop + try drops from x+1..2x-1 -> total: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>+</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>=</mo><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2 + x-1 = x+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>Similarly kth drop should be from drop <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x + (x-1) + (x-2) .. + (x-k+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mord">..</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>.</p>
<p>Total number of drops would be: x + (x-1) + (x-2) + ... + 1 >= n
x(x+1)/2 >= n</p>
<p>NB: MIT solution does not give the most optimal one. It assumes equal intervals for 2 balls and for the general case.</p>
<p><strong>Another Math Solution:</strong></p>
<p>Reverse engineer problem
Given T moves and 2 balls find how many floors I can cover
Find smallest T with which we can cover n floors</p>
<p>For k balls:</p>
<pre class="language-math"><code class="language-math">f(T,k) = 1 + f(T-1,k-1) + f(T-1,k)
f(T,2) = 1 + f(T-1,1) + f(T-1,2)
f(T,2) = 1 + T-1 + f(T-1,2)
f(T,2) = T + f(T-1,2)
f(T,2) = T + T-1 + T-2 + ... 1
f(T,2) = T*(T+1)/2
</code></pre>
<p>The above solution gives you O(nk) coding solution to the problem.</p>
<p>Remark</p>
<p>Moreover, it can be shown that <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>C</mi><mi>T</mi><mn>1</mn></msubsup><mo>+</mo><mo>⋯</mo><mo>+</mo><msubsup><mi>C</mi><mi>T</mi><mi>k</mi></msubsup></mrow><annotation encoding="application/x-tex">f(T,k)=C^{1}_{T}+⋯+C^{k}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0894em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4247em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4247em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span></span> and using this information, problem can be solved
in <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>, using binary search.</p>
<h1 id="problem-5--6-keep-those-queens-apart-backtracking-recursion">Problem 5 &#x26; 6: Keep those queens apart. Backtracking (Recursion)<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-5--6-keep-those-queens-apart-backtracking-recursion"></a></h1>
<p>These two lectures consider the 8-queens problem. Lecture 5 gives overview and iterative solution of the
problem. Lecture 6 gives recursive/backtracking solution.</p>
<p>Example. Find greatest common divisor.</p>
<p>Euclid's algorithm.</p>
<pre class="language-python"><code class="language-Python"><span class="token keyword">def</span> <span class="token function">iterative_gcd</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
        m<span class="token punctuation">,</span> n <span class="token operator">=</span> n<span class="token punctuation">,</span> m <span class="token operator">%</span> n
    <span class="token keyword">return</span> m

<span class="token keyword">def</span> <span class="token function">recursive_gcd</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> m <span class="token operator">%</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> n
    <span class="token keyword">return</span> recursive_gcd<span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token operator">%</span>n<span class="token punctuation">)</span>
</code></pre>
<p><em>'You always get intuition about the problem by shrinking it and looking at small cases.'</em></p>
<p>Given <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>x<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> board return the number of different ways we put <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> queens on the board. <a href="https://leetcode.com/problems/n-queens-ii/">link</a></p>
<p><strong>Solution</strong>
Represent a board using just an array where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span>-th element shows on which row we have a queen in column <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span>. Exploit the fact there can be at most one queen in a single column.</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">totalNQueens</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">is_safe</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> board<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>col<span class="token operator">-</span>j<span class="token punctuation">)</span><span class="token operator">==</span><span class="token builtin">abs</span><span class="token punctuation">(</span>i<span class="token operator">-</span>board<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">def</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">nonlocal</span> res
            <span class="token keyword">if</span> j <span class="token operator">==</span> n<span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">return</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> is_safe<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># pruning</span>
                    board<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> i
                    backtrack<span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
                    board<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>
        res<span class="token punctuation">,</span>board <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token operator">*</span>n
        backtrack<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre>
</details>
<p>There is no closed form solution depending on <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>.</p>
<h1 id="problem-7-tile-that-courtyard-please-divide-and-conquer-recursion">Problem 7: Tile that Courtyard, Please. Divide and Conquer (Recursion).<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-7-tile-that-courtyard-please-divide-and-conquer-recursion"></a></h1>
<p><strong>Problem.</strong> Consider a <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>x<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> courtyard and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></span>-shaped tiles (three square-tiles). Can you fill it in with <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span></span>-tiles perfectly? No, total number of squares is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mn>2</mn><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">2^{2n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span> and is not divisible by 3. Then we change the problem and put a ban on one of the squares in the courtyard. Total number of squares is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mn>2</mn><mi>n</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{2n}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> which is divisible by 3.</p>
<p>Divide and Conquer <strong>Solution:</strong></p>
<p><img src="/dendron-wiki/assets/images/tile_courtyard.png" alt="dp_weighted_intervals.png"></p>
<p>There is always a perfect tiling of the courtyard!</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token comment">#Programming for the Puzzled -- Srini Devadas</span>
<span class="token comment">#Tile that Courtyard, Please</span>
<span class="token comment">#Given n in a 2^n x 2^n checkyard with a missing square at position (r, c), </span>
<span class="token comment">#find tiling of yard with trominoes (L-shaped dominoes).</span>
<span class="token comment">#This version works directly on the given grid, and does NOT make copies</span>
<span class="token comment">#of the grid for recursive calls.</span>

EMPTYPIECE <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>



<span class="token comment">#This procedure is the main engine of recursive algorithm</span>
<span class="token comment">#nextPiece is the number of next available tromino piece</span>
<span class="token comment">#The origin coordinates of the yard are given by originR and originC</span>
<span class="token keyword">def</span> <span class="token function">recursiveTile</span><span class="token punctuation">(</span>yard<span class="token punctuation">,</span> size<span class="token punctuation">,</span> originR<span class="token punctuation">,</span> originC<span class="token punctuation">,</span> rMiss<span class="token punctuation">,</span> cMiss<span class="token punctuation">,</span> nextPiece<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment">#quadrant of missing square: 0 (upper left), 1 (upper right),</span>
    <span class="token comment">#                            2 (lower left), 3 (lower right)</span>
    quadMiss <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>rMiss <span class="token operator">>=</span> size<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>cMiss <span class="token operator">>=</span> size<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>
    
    <span class="token comment">#base case of 2x2 yard</span>
    <span class="token keyword">if</span> size <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span> 
        piecePos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        piecePos<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>quadMiss<span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token keyword">in</span> piecePos<span class="token punctuation">:</span>
            yard<span class="token punctuation">[</span>originR <span class="token operator">+</span> r<span class="token punctuation">]</span><span class="token punctuation">[</span>originC <span class="token operator">+</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> nextPiece
        nextPiece <span class="token operator">=</span> nextPiece <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> nextPiece

    <span class="token comment">#recurse on each quadrant</span>
    
    <span class="token keyword">for</span> quad <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#Each quadrant has a different origin</span>
        <span class="token comment">#Quadrant 0 has origin (0, 0), Quadrant 1 has origin (0, size//2)</span>
        <span class="token comment">#Quadrant 2 has origin (size//2, 0), Quadrant 3 has origin (size//2, size//2)</span>
        shiftR <span class="token operator">=</span> size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>quad <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span>
        shiftC <span class="token operator">=</span> size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>quad <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> quad <span class="token operator">==</span> quadMiss<span class="token punctuation">:</span>
            <span class="token comment">#Pass the new origin and the shifted rMiss and cMiss</span>
            nextPiece <span class="token operator">=</span> recursiveTile<span class="token punctuation">(</span>yard<span class="token punctuation">,</span> size<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> originR <span class="token operator">+</span> shiftR<span class="token punctuation">,</span>\
                originC <span class="token operator">+</span> shiftC<span class="token punctuation">,</span> rMiss <span class="token operator">-</span> shiftR<span class="token punctuation">,</span> cMiss <span class="token operator">-</span> shiftC<span class="token punctuation">,</span> nextPiece<span class="token punctuation">)</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment">#The missing square is different for each of the other 3 quadrants</span>
            newrMiss <span class="token operator">=</span> <span class="token punctuation">(</span>size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>quad <span class="token operator">&#x3C;</span> <span class="token number">2</span><span class="token punctuation">)</span>
            newcMiss <span class="token operator">=</span> <span class="token punctuation">(</span>size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>quad <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            nextPiece <span class="token operator">=</span> recursiveTile<span class="token punctuation">(</span>yard<span class="token punctuation">,</span> size<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span> originR <span class="token operator">+</span> shiftR<span class="token punctuation">,</span>\
                            originC <span class="token operator">+</span> shiftC<span class="token punctuation">,</span> newrMiss<span class="token punctuation">,</span> newcMiss<span class="token punctuation">,</span> nextPiece<span class="token punctuation">)</span>


    <span class="token comment">#place center tromino</span>
    centerPos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>r <span class="token operator">+</span> size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> c <span class="token operator">+</span> size<span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                 <span class="token keyword">for</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    centerPos<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>quadMiss<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>r<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token keyword">in</span> centerPos<span class="token punctuation">:</span> <span class="token comment"># assign tile to 3 center squares</span>
        yard<span class="token punctuation">[</span>originR <span class="token operator">+</span> r<span class="token punctuation">]</span><span class="token punctuation">[</span>originC <span class="token operator">+</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> nextPiece
    nextPiece <span class="token operator">=</span> nextPiece <span class="token operator">+</span> <span class="token number">1</span>

    <span class="token keyword">return</span> nextPiece

<span class="token comment">#This procedure is a wrapper for recursiveTile that does all the work</span>
<span class="token keyword">def</span> <span class="token function">tileMissingYard</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> rMiss<span class="token punctuation">,</span> cMiss<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#Initialize yard, this is the only memory that will be modified!</span>
    yard <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>EMPTYPIECE <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">**</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> 
    recursiveTile<span class="token punctuation">(</span>yard<span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">**</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> rMiss<span class="token punctuation">,</span> cMiss<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> yard

<span class="token comment">#This procedure prints a given tiled yard using letters for tiles</span>
<span class="token keyword">def</span> <span class="token function">printYard</span><span class="token punctuation">(</span>yard<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>yard<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        row <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>yard<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> yard<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> EMPTYPIECE<span class="token punctuation">:</span>
                row <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token punctuation">(</span>yard<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">26</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                row <span class="token operator">+=</span> <span class="token string">' '</span>
        <span class="token keyword">print</span> <span class="token punctuation">(</span>row<span class="token punctuation">)</span>


printYard<span class="token punctuation">(</span>tileMissingYard<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
printYard<span class="token punctuation">(</span>tileMissingYard<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</details>
<h1 id="problem-8-you-wont-want-to-play-sudoku-again-recursive-search">Problem 8: You Won't Want to Play Sudoku Again. Recursive search<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-8-you-wont-want-to-play-sudoku-again-recursive-search"></a></h1>
<p><strong>Problem</strong> Given a sudoku grid, find a solution to it. <a href="https://leetcode.com/problems/sudoku-solver/">problem</a></p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">solveSudoku</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> board<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Do not return anything, modify board in-place instead.
        """</span>
        <span class="token keyword">def</span> <span class="token function">get_empty</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> product<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span>

        <span class="token keyword">def</span> <span class="token function">possible</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> box<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> row<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> col<span class="token punctuation">(</span>j<span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">box</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">set</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token operator">+</span>di<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>dj<span class="token punctuation">]</span> <span class="token keyword">for</span> di<span class="token punctuation">,</span>dj <span class="token keyword">in</span> product<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">row</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">set</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">col</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">set</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            i<span class="token punctuation">,</span>j <span class="token operator">=</span> get_empty<span class="token punctuation">(</span>board<span class="token punctuation">)</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">True</span>
            values <span class="token operator">=</span> possible<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span>
            <span class="token keyword">for</span> val <span class="token keyword">in</span> values<span class="token punctuation">:</span>
                board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> val
                <span class="token keyword">if</span> solve<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">True</span>
                board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'.'</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>

        solve<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</details>
<p>Whenever you do a recursive search you need to clean what you did (line <code>board[i][j] ='.'</code>) - this we call <strong>backtracking</strong>.</p>
<p>The above solution does not do any implications (row and column scans, boxes etc.) It is not the way you would solve sudoku in your head. The <code>poss()</code> function gives you potential values to fill in and you just do blind <strong>guessing</strong>. We want to integrate human approach in the algo - <strong>implications!</strong></p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python">        <span class="token keyword">def</span> <span class="token function">make_implications</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
            board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> e
            impl <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">]</span>
            can_imply<span class="token punctuation">,</span>start <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span>
            <span class="token keyword">while</span> can_imply <span class="token keyword">or</span> start<span class="token punctuation">:</span>
                start<span class="token punctuation">,</span>can_imply <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span>
                <span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> product<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token string">'.'</span><span class="token punctuation">:</span>
                        poss <span class="token operator">=</span> possible<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span>
                        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>poss<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
                            x <span class="token operator">=</span> poss<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
                            impl<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>
                            board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> x
                            can_imply <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">return</span> impl
        
        <span class="token keyword">def</span> <span class="token function">undo_implications</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span>impl<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> impl<span class="token punctuation">:</span>
                board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'.'</span>
    
        <span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            i<span class="token punctuation">,</span>j <span class="token operator">=</span> get_empty<span class="token punctuation">(</span>board<span class="token punctuation">)</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">True</span>
            values <span class="token operator">=</span> possible<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>board<span class="token punctuation">)</span>
            <span class="token keyword">for</span> val <span class="token keyword">in</span> values<span class="token punctuation">:</span>
                impl <span class="token operator">=</span> make_implications<span class="token punctuation">(</span>board<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>val<span class="token punctuation">)</span>
                <span class="token keyword">if</span> solve<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">True</span>
                undo_implications<span class="token punctuation">(</span>board<span class="token punctuation">,</span>impl<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        
        solve<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</details>
<h1 id="problem-9-the-disorganized-handyman-sorting">Problem 9: The Disorganized Handyman. Sorting<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-9-the-disorganized-handyman-sorting"></a></h1>
<p><strong>Problem</strong> You have 100 unique nuts and 100 unique bolts, where each bolt has its own unique nut. All nuts and bolts are in a bag. Find all nut-bolt pairs.</p>
<p>Allowed operation:</p>
<ul>
<li>take one nut and take one bolt. If nut is bigger than bolt, then the bolt would go through the nut. If the bolt is bigger, then you cannot put the bolt in. IF nut fits the bolt then done!</li>
</ul>
<p><strong>Naive solution</strong>. <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> using brute force.</p>
<p>Can't compare the size of nuts to nuts. Can't compare the size of bolts to bolts.</p>
<p><strong>Solution</strong>. Divide and Conquer - Quick Sort pivoting idea.</p>
<p>QuickSort and Merge sort are Divide and Conquer algorithms.</p>
<p>MergeSort requires <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> space and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> runtime.</p>
<p>Randomized QuickSort requires <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> space and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">)</span></span></span></span></span> runtime on average. Worse xas is <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>QuickSort can be done in-place, whereas MergeSort cannot.</p>
<h1 id="problem-10-a-weekend-to-remember-graph">Problem 10: A Weekend To Remember. Graph<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-10-a-weekend-to-remember-graph"></a></h1>
<p><strong>Problem</strong>. Nodes are friends. Edge between nodes implies a 'dislike' relation. Your job is to keep your friends happy. You organize 2 parties such that:</p>
<ul>
<li>each friend comes to exactly one party</li>
<li>no pair of friends who dislike each other come to the same party</li>
</ul>
<p>This is <strong>bipartite</strong> matching problem. Purpose of this puzzle is to say if you can do that or not.</p>
<p>Bipartite graphs are those which you can split in two groups of nodes and all edges have one end in one of the groups and the other edge in the other group.</p>
<p><a href="https://leetcode.com/problems/possible-bipartition/">Leetcode</a>
<a href="https://leetcode.com/problems/is-graph-bipartite/">Leetcode</a></p>
<p>Bipartite graph = 2-colorable (color vertices such that no edge has two same color edges) =
graph with no odd-cycles</p>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">isBipartite</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>

        <span class="token keyword">def</span> <span class="token function">is_two_color</span><span class="token punctuation">(</span>white<span class="token punctuation">,</span>black<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> u <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> v <span class="token keyword">in</span> graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> u <span class="token keyword">in</span> white <span class="token keyword">and</span> v <span class="token keyword">in</span> white<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>
                    <span class="token keyword">if</span> u <span class="token keyword">in</span> black <span class="token keyword">and</span> v <span class="token keyword">in</span> black<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">def</span> <span class="token function">colorize</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span>is_black<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> is_black<span class="token punctuation">:</span> black<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span> white<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">for</span> u <span class="token keyword">in</span> graph<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    colorize<span class="token punctuation">(</span>u<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">-</span>is_black<span class="token punctuation">)</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>
        visited<span class="token punctuation">,</span>black<span class="token punctuation">,</span>white <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>n<span class="token punctuation">,</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> s <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">:</span>
                colorize<span class="token punctuation">(</span>s<span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> is_two_color<span class="token punctuation">(</span>white<span class="token punctuation">,</span>black<span class="token punctuation">)</span>

</code></pre>
</details>
<p><em>Never depend of order of keys in a dictionary. Different looping through the same dictionary may give different order.</em></p>
<h1 id="problem-11-memory-serves-you-well-dynamic-programming">Problem 11: Memory Serves You Well. Dynamic Programming<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-11-memory-serves-you-well-dynamic-programming"></a></h1>
<p><strong>Problem.</strong> Given array of coins, pick coins to maximize total value subject to constraint:</p>
<ul>
<li>if you pick a coin you cannot pick the next one. <a href="https://leetcode.com/problems/house-robber/">Leetcode</a></li>
</ul>
<pre class="language-python"><code class="language-Python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">rob</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token decorator annotation punctuation">@cache</span>
        <span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>can_rob<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> can_rob<span class="token punctuation">:</span> <span class="token keyword">return</span> dp<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>