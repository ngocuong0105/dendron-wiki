<h1 id="geometry">Geometry<a aria-hidden="true" class="anchor-heading icon-link" href="#geometry"></a></h1>
<h1 id="elementary-operations">Elementary operations<a aria-hidden="true" class="anchor-heading icon-link" href="#elementary-operations"></a></h1>
<h2 id="basic-geometry">Basic Geometry<a aria-hidden="true" class="anchor-heading icon-link" href="#basic-geometry"></a></h2>
<ul>
<li>cross product checks for collinearity (line on one line)</li>
</ul>
<details>
<summary> <b>CODE</b> </summary>
<pre class="language-python"><code class="language-Python"><span class="token keyword">def</span> <span class="token function">collinear</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sm <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        sm <span class="token operator">+=</span> u<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">return</span> sm <span class="token operator">==</span> <span class="token number">0</span>
</code></pre>
</details>
<h1 id="finding-the-equation-of-a-line-for-a-segment">Finding the equation of a line for a segment<a aria-hidden="true" class="anchor-heading icon-link" href="#finding-the-equation-of-a-line-for-a-segment"></a></h1>
<ul>
<li><a href="https://leetcode.com/problems/check-if-it-is-a-straight-line/">leetcode</a>
vertical lines have infinite slope, to avoid edge cases use above representaion of a line <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>x</mi><mo>+</mo><mi>B</mi><mi>y</mi><mo>+</mo><mi>C</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Ax+By+C = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></li>
</ul>
<h1 id="minimum-enclosing-circle">Minimum enclosing circle<a aria-hidden="true" class="anchor-heading icon-link" href="#minimum-enclosing-circle"></a></h1>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>
<a href="https://leetcode.com/problems/erect-the-fence-ii/">Erect the fence</a></p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">circle_three</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""arr is a list of 3 points"""</span>
    <span class="token punctuation">(</span>x0<span class="token punctuation">,</span> y0<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span> <span class="token operator">=</span> arr
    A <span class="token operator">=</span> x0<span class="token operator">*</span><span class="token punctuation">(</span>y1<span class="token operator">-</span>y2<span class="token punctuation">)</span> <span class="token operator">-</span> y0<span class="token operator">*</span><span class="token punctuation">(</span>x1<span class="token operator">-</span>x2<span class="token punctuation">)</span> <span class="token operator">+</span> x1<span class="token operator">*</span>y2 <span class="token operator">-</span> x2<span class="token operator">*</span>y1
    B <span class="token operator">=</span> <span class="token punctuation">(</span>x0<span class="token operator">*</span>x0 <span class="token operator">+</span> y0<span class="token operator">*</span>y0<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y2<span class="token operator">-</span>y1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x1<span class="token operator">*</span>x1 <span class="token operator">+</span> y1<span class="token operator">*</span>y1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y0<span class="token operator">-</span>y2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x2<span class="token operator">*</span>x2<span class="token operator">+</span>y2<span class="token operator">*</span>y2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y1<span class="token operator">-</span>y0<span class="token punctuation">)</span>
    C <span class="token operator">=</span> <span class="token punctuation">(</span>x0<span class="token operator">*</span>x0 <span class="token operator">+</span> y0<span class="token operator">*</span>y0<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x1<span class="token operator">-</span>x2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x1<span class="token operator">*</span>x1 <span class="token operator">+</span> y1<span class="token operator">*</span>y1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x2<span class="token operator">-</span>x0<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x2<span class="token operator">*</span>x2<span class="token operator">+</span>y2<span class="token operator">*</span>y2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x0<span class="token operator">-</span>x1<span class="token punctuation">)</span>
    D <span class="token operator">=</span> <span class="token punctuation">(</span>x0<span class="token operator">*</span>x0 <span class="token operator">+</span> y0<span class="token operator">*</span>y0<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x2<span class="token operator">*</span>y1<span class="token operator">-</span>x1<span class="token operator">*</span>y2<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x1<span class="token operator">*</span>x1<span class="token operator">+</span>y1<span class="token operator">*</span>y1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x0<span class="token operator">*</span>y2<span class="token operator">-</span>x2<span class="token operator">*</span>y0<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x2<span class="token operator">*</span>x2<span class="token operator">+</span>y2<span class="token operator">*</span>y2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x1<span class="token operator">*</span>y0<span class="token operator">-</span>x0<span class="token operator">*</span>y1<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">-</span>B<span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>C<span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>B<span class="token operator">*</span>B<span class="token operator">+</span>C<span class="token operator">*</span>C<span class="token operator">-</span><span class="token number">4</span><span class="token operator">*</span>A<span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span>A<span class="token operator">*</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">inside</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""return: is point p inside circle (x,y,r)"""</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token operator">&#x3C;</span> r<span class="token operator">**</span><span class="token number">2</span>

<span class="token keyword">def</span> <span class="token function">dist</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">0.5</span>

<span class="token keyword">def</span> <span class="token function">mec</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>R<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Minimum enclosing circle using Welzlâ€™s algorithm
    R = points which need to be on the boundary
    return: MEC of all points[:i+1] where points in R are on the boundary
    """</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> circle_three<span class="token punctuation">(</span>R<span class="token punctuation">)</span>
    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>R<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>R<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span> 
            <span class="token keyword">return</span> <span class="token punctuation">(</span>R<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>R<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">(</span>R<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>R<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>dist<span class="token punctuation">(</span>R<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>R<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>

    x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r <span class="token operator">=</span> mec<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>R<span class="token punctuation">)</span>
    <span class="token keyword">if</span> inside<span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r<span class="token punctuation">)</span>
    <span class="token keyword">return</span> mec<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>R<span class="token operator">+</span><span class="token punctuation">[</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

points <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token keyword">for</span> p <span class="token keyword">in</span> points<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Result:"</span><span class="token punctuation">,</span> mec<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><code>    Intersection Point of Lines
    Check if two segments intersect
    Intersection of Segments
    Circle-Line Intersection
    Circle-Circle Intersection
    Common tangents to two circles
    Length of the union of segments
</code></pre>
<h1 id="polygons">Polygons<a aria-hidden="true" class="anchor-heading icon-link" href="#polygons"></a></h1>
<pre><code>    Oriented area of a triangle
    Area of simple polygon
    Check if points belong to the convex polygon in O(log N)
</code></pre>
<h2 id="check-if-convex-polygon">Check if convex polygon<a aria-hidden="true" class="anchor-heading icon-link" href="#check-if-convex-polygon"></a></h2>
<p><a href="https://leetcode.com/problems/convex-polygon/">problem</a></p>
<ul>
<li>
<p>cross product of three points (a,b,c) sign shows the direction of the turn</p>
<pre><code>  Minkowski sum of convex polygons
  Pick's Theorem - area of lattice polygons
  Lattice points of non-lattice polygon
</code></pre>
<p>  Convex hull
Convex hull construction
Convex hull trick and Li Chao tree</p>
</li>
</ul>
<h1 id="sweep-line">Sweep-line<a aria-hidden="true" class="anchor-heading icon-link" href="#sweep-line"></a></h1>
<h2 id="search-for-a-pair-of-intersecting-segments">Search for a pair of intersecting segments<a aria-hidden="true" class="anchor-heading icon-link" href="#search-for-a-pair-of-intersecting-segments"></a></h2>
<ul>
<li>
<p><a href="https://leetcode.com/problems/perfect-rectangle/">perfect rectangle</a>
Given  a list of rectangles we want to find if there is any overlap of two rectangles.</p>
</li>
<li>
<p>Line sweep x-axis and add y1,y2 intervals into a SortedList data structure</p>
</li>
</ul>
<h2 id="point-location-in-olog-n">Point location in O(log N)<a aria-hidden="true" class="anchor-heading icon-link" href="#point-location-in-olog-n"></a></h2>
<pre><code>Miscellaneous
    Finding the nearest pair of points
    Delaunay triangulation and Voronoi diagram
    Vertical decomposition
    Half-plane intersection - S&#x26;I Algorithm in O(N log N)
</code></pre>