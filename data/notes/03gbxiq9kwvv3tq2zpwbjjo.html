<h1 id="s3-vs-dl-vs-redshift">S3 vs DL vs Redshift<a aria-hidden="true" class="anchor-heading icon-link" href="#s3-vs-dl-vs-redshift"></a></h1>
<h1 id="s3-simple-storage-service">S3 (Simple Storage Service)<a aria-hidden="true" class="anchor-heading icon-link" href="#s3-simple-storage-service"></a></h1>
<ul>
<li>pure storage, no SQL or any analytics</li>
<li><strong>Object</strong> Storage. <strong>NOT</strong> columnar, log-structured(LSM), or B-trees</li>
<li>S3 does not understand tables, rows, columns, indexes, or trees.</li>
<li>All structuring is defined by how you write/read files (e.g., CSV, Parquet, JSON), not by S3 itself!</li>
<li>stores objects within buckets</li>
<li>an object is a file and any metadata that describes the file</li>
<li>a bucket is a container for objects</li>
</ul>
<h1 id="datalake">DataLake<a aria-hidden="true" class="anchor-heading icon-link" href="#datalake"></a></h1>
<ul>
<li>Still Object Storage (in S3)</li>
<li>Built on top of S3</li>
<li>An architectural concept or solution—not a product or "service".</li>
<li>Centralizes and organizes data (usually on S3)</li>
<li>in AWS you will go to S3 service and you will have many buckets. Some buckets might be data lakes</li>
<li>DLs often support query tools (Athena/Databricks) for direct analytics!</li>
</ul>
<h2 id="note-on-s3dl-storage">Note on S3/DL storage<a aria-hidden="true" class="anchor-heading icon-link" href="#note-on-s3dl-storage"></a></h2>
<ul>
<li>DL and S3 are object storages. The objects (files) within might have structure, for example columnar format like <strong>Parquet, Avro</strong> and you can define schema on them.</li>
<li><strong>But:</strong> The underlying object store (S3) remains ignorant of the structure; it just stores files. The columnar "magic" happens inside the files themselves.</li>
<li>you can not have B-trees, LSM-tree storage indexing in S3/DL - you need to use full fledged database management system. </li>
</ul>
<h1 id="redshift">Redshift<a aria-hidden="true" class="anchor-heading icon-link" href="#redshift"></a></h1>
<ul>
<li>Amazon Redshift is a fully managed cloud <strong>data warehouse</strong> service </li>
<li>It is not just storage - it is a ful featured SQL analytics database</li>
<li><strong>Columnar Storage:</strong>
<ul>
<li>Redshift stores table data in a columnar format (not row-based, not LSM, not B-tree).</li>
<li>This means data is stored column by column, which is highly efficient for analytical queries (scanning/aggregating specific columns in very large datasets).</li>
</ul>
</li>
</ul>
<p>See <a href="/dendron-wiki/notes/0xdyjxuetx8at7o7eafrfzb">How does Yelp store data?</a> or practical usage</p>
<h2 id="note-on-parquet-vs-csv">Note on parquet vs csv<a aria-hidden="true" class="anchor-heading icon-link" href="#note-on-parquet-vs-csv"></a></h2>
<ul>
<li>parquet files are columnar, meaning they store data in columns rather than rows.</li>
<li>This is different from CSV files, which are row-based.</li>
</ul>
<h1 id="bottom-line">Bottom line<a aria-hidden="true" class="anchor-heading icon-link" href="#bottom-line"></a></h1>
<ul>
<li>S3 = object storage, NO index/tree, NO enforced schema, NO columnar unless your files are.</li>
<li>Data Lake = organization + schema/catalog on S3; columnar if files are (e.g., Parquet); NO B-tree/LSM tree.</li>
<li>Databases (like Redshift) = implement B-trees/columnar engines internally as part of their design for querying rows and columns efficiently.</li>
</ul>
<h1 id="pricing">Pricing<a aria-hidden="true" class="anchor-heading icon-link" href="#pricing"></a></h1>
<p><strong>Data Lake</strong></p>
<ul>
<li>Athena and Spark charge based on the amount of <strong>data scanned</strong>, so inefficient queries or large raw datasets can quickly increase costs.</li>
<li>No infrastructure to manage: You don’t pay for servers or clusters—just for the queries you run.</li>
<li>Best for
<ul>
<li>Ad hoc queries</li>
<li>Infrequent or unpredictable workloads</li>
</ul>
</li>
</ul>
<p><strong>Redshift</strong></p>
<ul>
<li>Provisioned clusters: Pay for reserved compute/storage capacity (hourly, regardless of usage). OR
<ul>
<li>Yelp has 4 clusters!!</li>
</ul>
</li>
<li>Serverless: Pay for compute seconds used per query, plus storage.</li>
<li>Best for:
<ul>
<li>Frequent, complex analytics</li>
<li>Large-scale, repeated reporting</li>
<li>BI dashboards and heavy workloads</li>
</ul>
</li>
</ul>
<h1 id="hdfs">HDFS<a aria-hidden="true" class="anchor-heading icon-link" href="#hdfs"></a></h1>
<p>Hadoop Distributed File System. Like S3 it is used to store large amounts of data.</p>
<ul>
<li>
<p>Distributed file system that runs on lusters of computers</p>
</li>
<li>
<p>Data stored in HDFS can be of any type, but the system automatically splits these files and stores them redundantly across many machines</p>
</li>
<li>
<p>HDFS is faster than S3 (no network latency)</p>
</li>
<li>
<p>HDFS is a distributed file system you run and maintain on your own cluster, primarily for on-prem or managed Hadoop/Spark environments.</p>
</li>
<li>
<p>S3 is not a file system, it is object storage. S3 is a manged service by AWS. HDFS is open source and you have to manage it yourself. It runs on a cluster of connected servers.</p>
</li>
<li>
<p>Legacy/On-prem-focused orgs: More likely to use HDFS.</p>
</li>
<li>
<p>Cloud/data-driven orgs (most modern tech): Strongly favor S3.</p>
</li>
</ul>